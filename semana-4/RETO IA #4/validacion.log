ğŸš€ Iniciando monitor en https://api.ecomarket.com/v1/productos...

# --- ESCENARIO A: El Servidor Lento (Timeout) ---
â³ [LOG 10:00:10] Evento: La peticiÃ³n expirÃ³ (Timeout > 10s alcanzado)
âš ï¸ [ERROR] La tortuga ganÃ³: El servidor no respondiÃ³ a tiempo.
ğŸ˜´ [BACKOFF] Incrementando espera a 10.0s para dar respiro al servidor.

# --- ESCENARIO B: Formato Incorrecto (HTML en vez de JSON) ---
ğŸ”„ [LOG 10:00:20] PeticiÃ³n enviada...
âŒ [ERROR] Datos corruptos: Se esperaba JSON pero se recibiÃ³ HTML.
ğŸ“ [DETALLE] ParseError: 'Expecting value: line 1 column 1 (char 0)'
ğŸ˜´ [BACKOFF] Incrementando espera a 15.0s.

# --- ESCENARIO C: Observador Roto (ExcepciÃ³n en Callback) ---
ğŸ”„ [LOG 10:00:35] [200 OK] Datos nuevos recibidos. ETag: "xyz789"
âŒ Error en observador: NameError: name 'variable_inexistente' is not defined
âœ… [RESILIENCIA] El observador de UI fallÃ³, pero el ciclo de polling continÃºa vivo.
ğŸ“º [UI] Actualizando lista de 45 productos.

# --- ESCENARIO D: Datos Nulos (200 OK pero productos=null) ---
ğŸ”„ [LOG 10:00:40] [200 OK] ConexiÃ³n establecida.
âš ï¸ [ALERTA] El campo 'productos' es nulo. Verificando contrato de API...
ğŸ“ [LOG 10:00:41] Evento registrado: Respuesta vacÃ­a del servidor.

ğŸ›‘ Deteniendo monitor limpiamente...
ğŸ“ [LOG 10:00:45] Evento: Polling detenido por el usuario. Flag _activo = False.

# PRUEBA DE DESACOPLAMIENTO:
# AgreguÃ© observador_4 y lo quitÃ© sin modificar ServicioPolling. âœ“
# ServicioPolling no tiene referencia directa a ningÃºn observador. âœ“